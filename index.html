<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîÆ –¢–∞—Ä–æ –ú–∏–Ω–∏-–ê–ø–ø</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="config.js"></script>
    <script src="standalone.js"></script>
    <script src="ad-manager.js"></script>
    <script src="card-manager.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–µ–Ω—é -->
        <nav class="navbar">
            <div class="nav-brand">
                <h1>üîÆ –¢–∞—Ä–æ</h1>
            </div>
            <div class="nav-balance">
                <div class="balance-display">
                    <span class="balance-icon">üí∞</span>
                    <span class="balance-amount" id="balanceAmount">1000</span>
                    <span class="balance-currency">–º–æ–Ω–µ—Ç</span>
                </div>
                <button class="earn-coins-btn" id="earnCoinsBtn">+ –ü–æ–ª—É—á–∏—Ç—å –º–æ–Ω–µ—Ç—ã</button>
            </div>
        </nav>

        <header class="header">
            <h1>üîÆ –¢–∞—Ä–æ –ú–∏–Ω–∏-–ê–ø–ø</h1>
            <p class="subtitle">–†–∞—Å–∫—Ä–æ–π—Ç–µ —Ç–∞–π–Ω—ã –±—É–¥—É—â–µ–≥–æ</p>
        </header>

        <main class="main">
            <!-- –í—ã–±–æ—Ä —Ä–∞—Å–∫–ª–∞–¥–∞ -->
            <section class="spread-selection" id="spreadSelection">
                <h2>üé¥ –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞—Å–∫–ª–∞–¥</h2>
                <div class="spreads-grid">
                    <div class="spread-card" data-spread="one_card">
                        <h3>–û–¥–Ω–∞ –∫–∞—Ä—Ç–∞</h3>
                        <p>–ü—Ä–æ—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å</p>
                        <span class="price">50 –º–æ–Ω–µ—Ç</span>
                    </div>
                    <div class="spread-card" data-spread="three_cards">
                        <h3>–¢—Ä–∏ –∫–∞—Ä—Ç—ã</h3>
                        <p>–ü—Ä–æ—à–ª–æ–µ, –Ω–∞—Å—Ç–æ—è—â–µ–µ, –±—É–¥—É—â–µ–µ</p>
                        <span class="price">100 –º–æ–Ω–µ—Ç</span>
                    </div>
                    <div class="spread-card" data-spread="celtic_cross">
                        <h3>–ö–µ–ª—å—Ç—Å–∫–∏–π –∫—Ä–µ—Å—Ç</h3>
                        <p>–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Å–∏—Ç—É–∞—Ü–∏–∏</p>
                        <span class="price">200 –º–æ–Ω–µ—Ç</span>
                    </div>
                </div>
            </section>

            <!-- –í–≤–æ–¥ –≤–æ–ø—Ä–æ—Å–∞ -->
            <section class="question-input" id="questionInput" style="display: none;">
                <h2>‚ùì –ó–∞–¥–∞–π—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å</h2>
                <div class="input-group">
                    <textarea id="questionText" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ß—Ç–æ –º–µ–Ω—è –∂–¥–µ—Ç –≤ –ª—é–±–≤–∏? –ö–∞–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç—å? –ö–∞–∫ —Å–ª–æ–∂–∏—Ç—Å—è –º–æ—è –∫–∞—Ä—å–µ—Ä–∞?" rows="4"></textarea>
                    <div class="question-actions">
                        <button id="submitQuestion" class="btn-primary">üîÆ –ü–æ–ª—É—á–∏—Ç—å –≥–∞–¥–∞–Ω–∏–µ</button>
                        <button id="submitWithAd" class="btn-ad">üì∫ –ì–∞–¥–∞–Ω–∏–µ –∑–∞ —Ä–µ–∫–ª–∞–º—É</button>
                    </div>
                </div>
                <button id="backToSpreads" class="btn-secondary">‚Üê –ù–∞–∑–∞–¥ –∫ —Ä–∞—Å–∫–ª–∞–¥–∞–º</button>
            </section>

            <!-- –í—ã–±–æ—Ä –∫–∞—Ä—Ç -->
            <section class="card-selection" id="cardSelection" style="display: none;">
                <h2>üé¥ –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ä—Ç—ã</h2>
                <div class="card-grid" id="cardGrid">
                    <!-- –ö–∞—Ä—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                <div class="selected-cards" id="selectedCards">
                    <h3>–í—ã–±—Ä–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã:</h3>
                    <div class="selected-cards-list" id="selectedCardsList"></div>
                </div>
                <div class="card-actions">
                    <button id="confirmSelection" class="btn-primary" disabled>‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–±–æ—Ä</button>
                    <button id="shuffleCards" class="btn-secondary">üîÄ –ü–µ—Ä–µ–º–µ—à–∞—Ç—å</button>
                    <button id="backToQuestion" class="btn-secondary">‚Üê –ù–∞–∑–∞–¥ –∫ –≤–æ–ø—Ä–æ—Å—É</button>
                </div>
            </section>

            <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –≥–∞–¥–∞–Ω–∏—è -->
            <section class="reading-result" id="readingResult" style="display: none;">
                <h2>üîÆ –†–µ–∑—É–ª—å—Ç–∞—Ç –≥–∞–¥–∞–Ω–∏—è</h2>
                <div id="interpretation" class="interpretation"></div>
                <div class="actions">
                    <button id="newReading" class="btn-primary">üîÑ –ù–æ–≤–æ–µ –≥–∞–¥–∞–Ω–∏–µ</button>
                    <button id="shareResult" class="btn-secondary">üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
                </div>
            </section>

            <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
            <div class="loading" id="loading" style="display: none;">
                <div class="spinner"></div>
                <p>–ö–∞—Ä—Ç—ã –ø–µ—Ä–µ–º–µ—à–∏–≤–∞—é—Ç—Å—è...</p>
            </div>

            <!-- –°–µ–∫—Ü–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∫–ª–∞–º—ã -->
            <section class="ad-section" id="adSection" style="display: none;">
                <div class="ad-container">
                    <h2>üì∫ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∫–ª–∞–º—ã</h2>
                    <div class="ad-video" id="adVideo">
                        <div class="ad-placeholder">
                            <div class="ad-icon">üì∫</div>
                            <p>–†–µ–∫–ª–∞–º–Ω—ã–π —Ä–æ–ª–∏–∫</p>
                            <div class="ad-timer" id="adTimer">15</div>
                        </div>
                    </div>
                    <div class="ad-info">
                        <p>üéÅ –ó–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∫–ª–∞–º—ã –≤—ã –ø–æ–ª—É—á–∏—Ç–µ <strong>50 –º–æ–Ω–µ—Ç</strong></p>
                        <p>‚è±Ô∏è –û—Å—Ç–∞–ª–æ—Å—å: <span id="adCountdown">15</span> —Å–µ–∫—É–Ω–¥</p>
                    </div>
                    <div class="ad-actions">
                        <button class="btn-secondary" id="skipAdBtn">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
                        <button class="btn-primary" id="watchAdBtn" style="display: none;">–ü–æ–ª—É—á–∏—Ç—å –º–æ–Ω–µ—Ç—ã</button>
                    </div>
                </div>
            </section>

            <!-- –°–µ–∫—Ü–∏—è –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –º–æ–Ω–µ—Ç -->
            <section class="earn-coins-section" id="earnCoinsSection" style="display: none;">
                <h2>üí∞ –ó–∞—Ä–∞–±–æ—Ç–∞—Ç—å –º–æ–Ω–µ—Ç—ã</h2>
                <div class="earn-options">
                    <div class="earn-option" data-coins="50">
                        <div class="earn-icon">üì∫</div>
                        <h3>–ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∫–ª–∞–º—ã</h3>
                        <p>–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∫–ª–∞–º–Ω—ã–π —Ä–æ–ª–∏–∫</p>
                        <span class="earn-amount">+50 –º–æ–Ω–µ—Ç</span>
                        <button class="btn-primary">–°–º–æ—Ç—Ä–µ—Ç—å</button>
                    </div>
                    <div class="earn-option" data-coins="100">
                        <div class="earn-icon">üéØ</div>
                        <h3>–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å</h3>
                        <p>–ó–∞—Ö–æ–¥–∏—Ç–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å</p>
                        <span class="earn-amount">+100 –º–æ–Ω–µ—Ç</span>
                        <button class="btn-primary">–ü–æ–ª—É—á–∏—Ç—å</button>
                    </div>
                    <div class="earn-option" data-coins="200">
                        <div class="earn-icon">‚≠ê</div>
                        <h3>–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞</h3>
                        <p>–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å –¥—Ä—É–∑—å—è–º–∏</p>
                        <span class="earn-amount">+200 –º–æ–Ω–µ—Ç</span>
                        <button class="btn-primary">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
                    </div>
                </div>
                <div class="earn-actions">
                    <button class="btn-primary" id="viewStatsBtn">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–∫–ª–∞–º—ã</button>
                    <button class="btn-secondary" id="backToMainBtn">‚Üê –ù–∞–∑–∞–¥</button>
                </div>
            </section>

            <!-- –°–µ–∫—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ä–µ–∫–ª–∞–º—ã -->
            <section class="ad-stats-section" id="adStatsSection" style="display: none;">
                <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–∫–ª–∞–º—ã</h2>
                <div class="stats-container">
                    <div class="stat-card">
                        <div class="stat-icon">üëÅÔ∏è</div>
                        <div class="stat-value" id="totalViews">0</div>
                        <div class="stat-label">–ü—Ä–æ—Å–º–æ—Ç—Ä—ã</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚úÖ</div>
                        <div class="stat-value" id="totalCompletions">0</div>
                        <div class="stat-label">–ó–∞–≤–µ—Ä—à–µ–Ω–∏—è</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üñ±Ô∏è</div>
                        <div class="stat-value" id="totalClicks">0</div>
                        <div class="stat-label">–ö–ª–∏–∫–∏</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚è≠Ô∏è</div>
                        <div class="stat-value" id="totalSkips">0</div>
                        <div class="stat-label">–ü—Ä–æ–ø—É—Å–∫–∏</div>
                    </div>
                </div>
                <div class="stats-rates">
                    <div class="rate-item">
                        <span class="rate-label">–ü—Ä–æ—Ü–µ–Ω—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:</span>
                        <span class="rate-value" id="completionRate">0%</span>
                    </div>
                    <div class="rate-item">
                        <span class="rate-label">–ü—Ä–æ—Ü–µ–Ω—Ç –∫–ª–∏–∫–æ–≤:</span>
                        <span class="rate-value" id="clickRate">0%</span>
                    </div>
                    <div class="rate-item">
                        <span class="rate-label">–ü—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–æ–ø—É—Å–∫–æ–≤:</span>
                        <span class="rate-value" id="skipRate">0%</span>
                    </div>
                </div>
                <div class="stats-actions">
                    <button class="btn-primary" id="exportStatsBtn">üì§ –≠–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</button>
                    <button class="btn-secondary" id="resetStatsBtn">üîÑ –°–±—Ä–æ—Å–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
                    <button class="btn-secondary" id="backToEarnBtn">‚Üê –ù–∞–∑–∞–¥</button>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>üîÆ –¢–∞—Ä–æ –ú–∏–Ω–∏-–ê–ø–ø ‚Ä¢ –î–æ–≤–µ—Ä—è–π—Ç–µ —Å–≤–æ–µ–π –∏–Ω—Ç—É–∏—Ü–∏–∏</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>

